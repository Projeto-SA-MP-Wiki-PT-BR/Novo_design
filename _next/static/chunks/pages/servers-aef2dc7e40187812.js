(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{12367:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/servers",function(){return r(80189)}])},19485:function(e,n,r){"use strict";var t=r(85893),o=r(65988),i=r(5227),s=r(68527);r(67294);n.Z=function(e){var n=e.error,r=e.message,c=e.suggested;return(0,t.jsxs)("section",{className:"jsx-6ae0ecdc6c35d887",children:[(0,t.jsxs)(s.Kq,{spacing:4,children:[(0,t.jsxs)("header",{className:"jsx-6ae0ecdc6c35d887",children:[(0,t.jsx)(i.i,{w:7,h:7}),(0,t.jsx)(s.X6,{my:"0",children:"An Error Occurred"})]}),(0,t.jsx)(s.xv,{children:null!==r&&void 0!==r?r:"An unexpected error occurred."}),c&&(0,t.jsxs)(s.xv,{children:[(0,t.jsx)("em",{className:"jsx-6ae0ecdc6c35d887",children:"Suggested action:"})," ",c]}),(0,t.jsx)("pre",{className:"jsx-6ae0ecdc6c35d887",children:null!==n&&void 0!==n?n:"(no detailed error information was provided)"})]}),(0,t.jsx)(o.default,{id:"6ae0ecdc6c35d887",children:"section.jsx-6ae0ecdc6c35d887 {max-width:40em;\nmargin:auto;\npadding:3em;\nbackground-color:var(--chakra-colors-red-300)}\nheader.jsx-6ae0ecdc6c35d887 {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\ngap:0.5em}"})]})}},42026:function(e,n,r){"use strict";var t=r(85893),o=r(65988),i=r(49609),s=r(68527);r(67294);n.Z=function(){return(0,t.jsxs)("section",{className:"jsx-ef45964b8caef53e",children:[(0,t.jsx)(i.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"purple.500",size:"xl"}),(0,t.jsx)(s.X6,{fontStyle:"italic",size:"lg",children:"Following the damn train..."}),(0,t.jsx)(o.default,{id:"ef45964b8caef53e",children:"section.jsx-ef45964b8caef53e {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-flex-direction:column;\n-ms-flex-direction:column;\nflex-direction:column;\n-webkit-justify-content:center;\njustify-content:center;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nheight:100%;\ngap:1em}"})]})}},68597:function(e,n,r){"use strict";r.d(n,{C:function(){return f}});var t=r(85893),o=r(68527),i=r(67294),s=r(90116),c=r(23858),a=r(95421);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}function d(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=function(e){var n=e.as,r=void 0===n?"ol":n,l=e.childrenAs,f=void 0===l?"article":l,x=e.children,h=d(e,["as","childrenAs","children"]),p={padding:"0.8em",borderColor:"blackAlpha.100",borderStyle:"solid",borderWidth:"1px",borderRadius:"0.5em"};return(0,t.jsx)(o.xu,{className:"static-container",overflowY:"clip",children:(0,t.jsx)(s.s,{children:(0,t.jsx)(c.E.div,{className:"animated-container",layout:!0,transition:{bounce:!1,duration:.1},children:(0,t.jsx)(o.kC,u({},h,{as:r,display:"flex",margin:"0",flexDirection:"column",listStyleType:"none",gridGap:"0.5em",children:i.Children.map(x,(function(e){return(0,t.jsx)(a.M,{children:(0,t.jsx)(c.E.li,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{bounce:!1,duration:.1},exit:{y:-50,opacity:0},children:(0,t.jsx)(o.xu,{as:f,children:i.cloneElement(e,{sx:p})})},e.key)})}))}))})})})}},65863:function(e,n,r){"use strict";r.d(n,{K:function(){return h}});var t=r(35666),o=r.n(t),i=r(43238),s=r(74865),c=r.n(s),a=r(97093),l=r(13288),u=r(17258);function d(e,n,r,t,o,i,s){try{var c=e[i](s),a=c.value}catch(l){return void r(l)}c.done?n(a):Promise.resolve(a).then(t,o)}function f(e,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):e instanceof n}function x(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){var n=(0,i.pm)(),r=(0,a.U)(),t=(0,l.kY)().mutate,s=p(),f=e?s:t;return function(e,t,i){return s=o().mark((function s(a){var l,d;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(d=null===(l=null===i||void 0===i?void 0:i.progress)||void 0===l||l)&&c().start(),o.abrupt("return",(0,u.hi)(t,{method:e,body:a?JSON.stringify(a):void 0}).then((function(e){var r;return f(null!==(r=null===i||void 0===i?void 0:i.mutate)&&void 0!==r?r:t),d&&c().done(),(null===i||void 0===i?void 0:i.toast)&&n(i.toast),e})).catch((function(e){r(e),d&&c().done()})));case 4:case"end":return o.stop()}}),s)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var o=s.apply(e,n);function i(e){d(o,r,t,i,c,"next",e)}function c(e){d(o,r,t,i,c,"throw",e)}i(void 0)}))};var s}},p=function(){var e=(0,l.kY)(),n=e.cache,r=e.mutate;return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];if(!f(n,Map))throw new Error("matchMutate requires the cache provider to be a Map instance");var s=[],c=!0,a=!1,l=void 0;try{for(var u,d=n.keys()[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var h=u.value;h.startsWith(e)&&s.push(h)}}catch(p){a=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(a)throw l}}return Promise.all(s.map((function(e){return r.apply(void 0,[e].concat(x(o)))})))}}},80189:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return K}});var t=r(35666),o=r.n(t),i=r(85893),s=r(50862),c=r(97375),a=r(68527),l=r(15193),u=r(4612),d=r(11391),f=r(27344),x=r(79762),h=r(74221),p=r(78230),m=r(2962),v=r(41664),y=r(74865),j=r.n(y),b=r(67294),g=r(84495),w=r(83490),S=r(19485),k=r(68597),O=r(43238),P=r(86704),C=r(65863);function A(e,n,r,t,o,i,s){try{var c=e[i](s),a=c.value}catch(l){return void r(l)}c.done?n(a):Promise.resolve(a).then(t,o)}var I="".concat(P.A,"/server/"),E=function(){var e,n=(0,C.K)(!0),r=(0,O.pm)();return(0,b.useCallback)((e=o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("PATCH","/servers/".concat(t,"/deleted"),{mutate:I})({time:(new Date).toISOString()});case 2:(i=e.sent)&&r({title:"Server deleted!",description:"".concat(i.ip," deleted."),status:"success"});case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function s(e){A(i,t,o,s,c,"next",e)}function c(e){A(i,t,o,s,c,"throw",e)}s(void 0)}))}),[n,r])},N=r(42026),_=r(13288);function T(e,n,r,t,o,i,s){try{var c=e[i](s),a=c.value}catch(l){return void r(l)}c.done?n(a):Promise.resolve(a).then(t,o)}function z(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function s(e){T(i,t,o,s,c,"next",e)}function c(e){T(i,t,o,s,c,"throw",e)}s(void 0)}))}}function D(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var W="".concat(P.A,"/server/"),X=z(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),Z=function(e){return{players:(0,p.flow)((0,p.map)((function(e){return e.pc})),p.sum)(e),servers:e.length}},B=function(e){var n=e.text,r=(0,c.VP)(n),t=r.onCopy,o=r.hasCopied;return(0,i.jsxs)(a.Ug,{children:[(0,i.jsx)(a.xv,{fontSize:"xl",fontWeight:"bold",marginTop:"0",children:n}),(0,i.jsx)(l.zx,{size:"xs",onClick:t,style:o?{backgroundColor:"#81C784",color:"white"}:{},children:o?"COPIED":"COPY"})]})},G=function(e){var n=e.server,r=e.sx,t=E(),o=(0,b.useCallback)((function(){return t(n.ip)}),[t,n]),s=(0,w.cn)();return(0,i.jsx)(a.xu,{sx:r,children:(0,i.jsxs)(a.xu,{children:[(0,i.jsx)(v.default,{href:"/servers/"+n.ip,passHref:!0,children:(0,i.jsx)(a.rU,{children:(0,i.jsx)(a.X6,{fontSize:"xl",style:{marginTop:"0"},_hover:{textDecor:"underline",cursor:"pointer"},children:n.hn})})}),(0,i.jsxs)(a.kC,{justifyContent:"space-between",alignItems:"start",my:"0.4em",flexWrap:"wrap",children:[(0,i.jsxs)(a.gC,{align:"left",children:[(0,i.jsx)(a.xv,{style:{marginTop:"0"},children:n.gm}),(0,i.jsx)(B,{text:n.ip})]}),(0,i.jsxs)(a.gC,{align:"end",children:[(0,i.jsxs)(a.kC,{flexDirection:"row",alignItems:"center",gridGap:".5em",flexWrap:"wrap",children:[(0,i.jsxs)(a.xv,{fontWeight:"bold",fontSize:"2xl",style:{marginTop:"0"},children:[n.pc,"/",n.pm]}),(0,i.jsx)(a.xv,{style:{marginTop:"0"},children:"players"})]}),(0,i.jsx)(a.xu,{display:s?"block":"none",children:(0,i.jsx)(l.zx,{onClick:o,children:"Delete"})})]})]})]})})},F=function(e,n){var r=new h.Z(e,{threshold:.2,shouldSort:!0,includeScore:!0,ignoreLocation:!0,keys:["ip","hn","gm"]}),t=n.search?(0,p.map)((function(e){return e.item}))(r.search(n.search)):e;return(0,p.flow)((0,p.filter)((function(e){return!!n.showEmpty||e.pc>0})),(0,p.filter)((function(e){return!!n.showFull||e.pc!==e.pm})),"relevance"!=n.sort?(0,p.sortBy)(n.sort):(0,p.sortBy)(""),p.reverse,(0,p.map)((function(e){return(0,i.jsx)(G,{server:e},e.ip)})))(t)},U=function(e){var n=e.stats,r=n.players,t=n.servers;return(0,i.jsx)(a.M5,{children:(0,i.jsxs)(a.xv,{my:4,children:[(0,i.jsx)("strong",{children:r})," players on ",(0,i.jsx)("strong",{children:t})," servers with an average of ",(0,i.jsx)("strong",{children:(r/t).toFixed(1)})," ","players per server."]})})},Y=function(e){var n=e.onAdd,r=(0,b.useState)(""),t=r[0],s=r[1],c=z(o().mark((function e(r){var i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j().start(),r.preventDefault(),e.next=4,fetch(W,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:t})});case 4:if(i=e.sent,j().inc(),200!==i.status){e.next=14;break}return e.next=9,i.json();case 9:s=e.sent,n(s),g.toast.notify("".concat(s.core.hn," (").concat(s.core.gm,") submitted to the index!"),{title:"Server Submitted!"}),e.next=18;break;case 14:return e.next=16,i.json();case 16:c=e.sent,g.toast.notify("Status ".concat(i.statusText,": ").concat(null===c||void 0===c?void 0:c.error),{title:"Submission failed!",type:"error"});case 18:j().done();case 19:case"end":return e.stop()}}),e)})));return(0,i.jsx)("form",{action:W,target:"_self",method:"post",onSubmit:c,children:(0,i.jsxs)(a.kC,{gridGap:2,width:"100%",children:[(0,i.jsx)(u.II,{type:"text",name:"address",placeholder:"IP/Domain",value:t,onChange:function(e){return s(e.target.value)}}),(0,i.jsx)(l.zx,{colorScheme:"blue",mr:3,type:"submit",children:"Add"})]})})},q=function(e){var n=e.data,r=e.onAdd,t=(0,b.useState)(""),o=t[0],h=t[1],p=(0,b.useState)(!1),m=p[0],v=(p[1],(0,b.useState)(!1)),y=v[0],j=(v[1],(0,b.useState)("relevance")),g=j[0],w=j[1],S=(0,c.qY)(),O=S.isOpen,P=S.onOpen,C=S.onClose;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("form",{action:"",children:(0,i.jsxs)(a.kC,{gridGap:2,flexDir:{base:"column",md:"row"},children:[(0,i.jsxs)(d.Ph,{flexShrink:2,placeholder:"Sort by",name:"sortBy",id:"sortBy",value:g,onChange:function(e){return w(e.target.value)},children:[(0,i.jsx)("option",{value:"relevance",children:"Relevance"}),(0,i.jsx)("option",{value:"pc",children:"Players"})]}),(0,i.jsx)(u.II,{flexGrow:2,type:"text",placeholder:"Search by IP or Name",name:"search",id:"search",value:o,onChange:function(e){h(e.target.value)}}),(0,i.jsx)(l.zx,{flexGrow:1,px:"3em",onClick:P,rightIcon:(0,i.jsx)(s.d,{boxSize:"0.8em"}),children:"Add server"}),(0,i.jsxs)(f.u_,{isOpen:O,onClose:C,blockScrollOnMount:!1,children:[(0,i.jsx)(f.ZA,{}),(0,i.jsxs)(f.hz,{top:10,children:[(0,i.jsx)(f.xB,{children:"Add a server"}),(0,i.jsx)(f.ol,{}),(0,i.jsx)(f.fe,{children:(0,i.jsxs)(x.NI,{mb:4,children:[(0,i.jsx)(x.lX,{children:"IP or Domain"}),(0,i.jsx)(Y,{onAdd:function(e){r(e),C()}}),(0,i.jsxs)(x.Q6,{children:["IP must be in format ",(0,i.jsx)("strong",{children:"ip:port"})]})]})})]})]})]})}),(0,i.jsx)(U,{stats:Z(n)}),(0,i.jsx)(k.C,{children:F(n,{search:o,showFull:m,showEmpty:y,sort:g})})]})},K=function(){var e=(0,_.ZP)(W,X),n=e.data,r=e.error,t=e.mutate;return r?(0,i.jsx)(S.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){D(e,n,r[n])}))}return e}({},r)):n?(0,i.jsxs)(a.xu,{as:"section",maxWidth:"50em",margin:"auto",padding:"1em 2em",children:[(0,i.jsx)(m.PB,{title:"SA-MP Servers Index",description:"Live indexing and data for all SA-MP servers."}),(0,i.jsx)(a.X6,{mb:"1em",children:"Servers"}),(0,i.jsx)(q,{data:n,onAdd:function(e){return t(M(n).concat([e.core]),!1)}})]}):(0,i.jsx)(N.Z,{})}},97093:function(e,n,r){"use strict";r.d(n,{U:function(){return s}});var t=r(43238),o=r(83319);var i="Unexpected error occurred",s=function(){var e=(0,t.pm)(),n=function(e){var n,r,t=o.s.safeParse(e);return t.success?t.data:(n=e,(null!=(r=Error)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)?{message:e.message,error:e.name}:{message:i})},r=function(e){return e.error&&e.suggested?"".concat(e.suggested," (Error: ").concat(e.error,")"):e.error?"Error: ".concat(e.error):i};return function(t){var o=n(t);console.warn(o),e({title:o.message,description:r(o),status:"error"})}}}},function(e){e.O(0,[9439,8293,9774,2888,179],(function(){return n=12367,e(e.s=n);var n}));var n=e.O();_N_E=n}]);